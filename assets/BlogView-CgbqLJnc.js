import{q as p,j as v,c as i,g as k,h as F,a as t,f as E,d as $,D as b,E as w,G as j,F as f,B as x,t as n,r as L,o,i as M,n as N,w as P}from"./index-zopvkkca.js";import{u as U}from"./blogStore-GIDqT45A.js";import{u as O}from"./usePageLoader-7qI_PD0h.js";import{_ as q}from"./BackHomeBtn-DqKOcnUN.js";const z={class:"mx-auto mt-16 font-main"},G={class:"mb-8 p-4 border rounded-sm"},H={class:"grid md:grid-cols-4 gap-4 items-end"},I=["value"],J={class:"mt-4"},K={class:"flex flex-wrap gap-2"},Q=["onClick"],R={class:"mt-4 flex items-center justify-between px-4"},W={class:"text-sm"},X={class:"grid gap-6"},Y={class:"grid md:grid-cols-4 relative md:place-items-center"},Z={class:"absolute -top-5 shadow-xs shadow-dark left-1/2 -translate-1/2 bg-dark px-4 py-1 text-light font-bold rounded-sm"},ee={class:"md:col-span-3"},te={class:"text-sm font-light mb-2"},se={class:"text-2xl font-semibold"},le={class:""},oe={class:"max-w-[225px] mx-auto mt-4 md:mt-0"},ae=["src"],ne="Cooking up something good!",ve={__name:"BlogView",setup(re){const{isLoading:C}=O(2e3),B=U(),g=p(()=>B.posts),r=v([]),u=v(null),d=v(null),c=v(null),_=v(!0),D=p(()=>{const l=new Set(g.value.map(s=>s.category).filter(Boolean));return Array.from(l).sort()}),T=p(()=>{const l=new Set;return g.value.forEach(s=>{var a;return(a=s.tags)==null?void 0:a.forEach(e=>l.add(e))}),Array.from(l).sort()}),V=()=>{r.value=[],u.value="",d.value="",c.value="",_.value=!0},S=l=>{const s=r.value.indexOf(l);s===-1?r.value.push(l):r.value.splice(s,1)},h=p(()=>{const l=d.value?new Date(d.value):null,s=c.value?new Date(c.value):null,a=r.value;return g.value.filter(e=>{if(_.value&&e.published===!1||u.value&&e.category!==u.value)return!1;const m=e.date?new Date(e.date):null;return!(l&&m&&m<l||s&&m&&m>s||a.length&&!a.some(A=>{var y;return(y=e.tags)==null?void 0:y.includes(A)}))})});return(l,s)=>{const a=L("router-link");return o(),i(f,null,[$(C)?(o(),k(M,{key:0,message:ne})):F("",!0),t("section",z,[t("div",G,[t("div",H,[t("div",null,[s[3]||(s[3]=t("label",{class:"block text-sm mb-1"},"From date",-1)),b(t("input",{type:"date","onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),class:"w-fit border px-3 py-2 rounded-sm md:w-full"},null,512),[[w,d.value]])]),t("div",null,[s[4]||(s[4]=t("label",{class:"block text-sm mb-1"},"To date",-1)),b(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e),class:"w-fit border px-3 py-2 rounded-sm md:w-full"},null,512),[[w,c.value]])]),t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm mb-1"},"Category",-1)),b(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),class:"w-fit border px-3 py-2 rounded-sm md:w-full"},[s[5]||(s[5]=t("option",{value:""},"All",-1)),(o(!0),i(f,null,x(D.value,e=>(o(),i("option",{class:"",key:e,value:e},n(e),9,I))),128))],512),[[j,u.value]])])]),t("div",J,[s[7]||(s[7]=t("label",{class:"block text-sm mb-2"},"Tags",-1)),t("div",K,[(o(!0),i(f,null,x(T.value,e=>(o(),i("button",{key:e,type:"button",onClick:m=>S(e),class:N(["px-3 py-1 border rounded-sm text-sm transition-all text-light hover:cursor-pointer",r.value.includes(e)?"bg-dark text-light":"bg-pink"])},n(e),11,Q))),128))])]),t("div",R,[t("p",W,n(h.value.length)+" results",1),t("button",{type:"button",onClick:V,class:"px-3 py-2 border rounded-sm hover:bg-pink hover:text-light hover:cursor-pointer duration-300 transition-all ease-linear"}," Clear filters ")])]),s[8]||(s[8]=t("h1",{class:"text-5xl font-bold mb-8"},"Blog",-1)),t("div",X,[(o(!0),i(f,null,x(h.value,e=>(o(),k(a,{key:e.id,to:`/blog/${e.slug}`,class:"block p-4 border rounded-sm hover:rounded-tl-3xl hover:rounded-br-4xl transition-all ease-linear duration-200"},{default:P(()=>[t("article",Y,[t("p",Z," Post "+n(e.id),1),t("div",ee,[t("p",te,n(e.date),1),t("h2",se,n(e.title),1),t("p",le,n(e.summary),1)]),t("figure",oe,[t("img",{src:e.thumbnail,alt:"cover-image",class:"h-full w-full object-contain"},null,8,ae)])])]),_:2},1032,["to"]))),128))])]),E(q)],64)}}};export{ve as default};
