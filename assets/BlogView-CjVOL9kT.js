import{q as p,j as v,c as u,a as t,f as V,D as b,E as k,G as A,F as f,B as x,t as a,r as F,o as n,n as E,g as j,w as U}from"./index-DDOPIF23.js";import{u as $}from"./blogStore-DZo6umwV.js";import{_ as M}from"./BackHomeBtn-EqLcfGz0.js";const N={class:"mx-auto mt-16 font-main"},O={class:"mb-8 p-4 border rounded-sm"},P={class:"grid md:grid-cols-4 gap-4 items-end"},q=["value"],z={class:"mt-4"},G={class:"flex flex-wrap gap-2"},L=["onClick"],H={class:"mt-4 flex items-center justify-between px-4"},I={class:"text-sm"},J={class:"grid gap-6"},K={class:"grid md:grid-cols-4 relative md:place-items-center"},Q={class:"absolute -top-5 shadow-xs shadow-dark left-1/2 -translate-1/2 bg-dark px-4 py-1 text-light font-bold rounded-sm"},R={class:"md:col-span-3"},W={class:"text-sm font-light mb-2"},X={class:"text-2xl font-semibold"},Y={class:""},Z={class:"max-w-[225px] mx-auto mt-4 md:mt-0"},ee=["src"],ne={__name:"BlogView",setup(te){const w=$(),g=p(()=>w.posts),r=v([]),i=v(null),d=v(null),c=v(null),_=v(!0),B=p(()=>{const l=new Set(g.value.map(s=>s.category).filter(Boolean));return Array.from(l).sort()}),C=p(()=>{const l=new Set;return g.value.forEach(s=>{var o;return(o=s.tags)==null?void 0:o.forEach(e=>l.add(e))}),Array.from(l).sort()}),D=()=>{r.value=[],i.value="",d.value="",c.value="",_.value=!0},T=l=>{const s=r.value.indexOf(l);s===-1?r.value.push(l):r.value.splice(s,1)},h=p(()=>{const l=d.value?new Date(d.value):null,s=c.value?new Date(c.value):null,o=r.value;return g.value.filter(e=>{if(_.value&&e.published===!1||i.value&&e.category!==i.value)return!1;const m=e.date?new Date(e.date):null;return!(l&&m&&m<l||s&&m&&m>s||o.length&&!o.some(S=>{var y;return(y=e.tags)==null?void 0:y.includes(S)}))})});return(l,s)=>{const o=F("router-link");return n(),u(f,null,[t("section",N,[t("div",O,[t("div",P,[t("div",null,[s[3]||(s[3]=t("label",{class:"block text-sm mb-1"},"From date",-1)),b(t("input",{type:"date","onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),class:"w-fit border px-3 py-2 rounded-sm md:w-full"},null,512),[[k,d.value]])]),t("div",null,[s[4]||(s[4]=t("label",{class:"block text-sm mb-1"},"To date",-1)),b(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e),class:"w-fit border px-3 py-2 rounded-sm md:w-full"},null,512),[[k,c.value]])]),t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm mb-1"},"Category",-1)),b(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>i.value=e),class:"w-fit border px-3 py-2 rounded-sm md:w-full"},[s[5]||(s[5]=t("option",{value:""},"All",-1)),(n(!0),u(f,null,x(B.value,e=>(n(),u("option",{class:"",key:e,value:e},a(e),9,q))),128))],512),[[A,i.value]])])]),t("div",z,[s[7]||(s[7]=t("label",{class:"block text-sm mb-2"},"Tags",-1)),t("div",G,[(n(!0),u(f,null,x(C.value,e=>(n(),u("button",{key:e,type:"button",onClick:m=>T(e),class:E(["px-3 py-1 border rounded-sm text-sm transition-all text-light hover:cursor-pointer",r.value.includes(e)?"bg-dark text-light":"bg-pink"])},a(e),11,L))),128))])]),t("div",H,[t("p",I,a(h.value.length)+" results",1),t("button",{type:"button",onClick:D,class:"px-3 py-2 border rounded-sm hover:bg-pink hover:text-light hover:cursor-pointer duration-300 transition-all ease-linear"}," Clear filters ")])]),s[8]||(s[8]=t("h1",{class:"text-5xl font-bold mb-8"},"Blog",-1)),t("div",J,[(n(!0),u(f,null,x(h.value,e=>(n(),j(o,{key:e.id,to:`/blog/${e.slug}`,class:"block p-4 border rounded-sm hover:rounded-tl-3xl hover:rounded-br-4xl transition-all ease-linear duration-200"},{default:U(()=>[t("article",K,[t("p",Q," Post "+a(e.id),1),t("div",R,[t("p",W,a(e.date),1),t("h2",X,a(e.title),1),t("p",Y,a(e.summary),1)]),t("figure",Z,[t("img",{src:e.thumbnail,alt:"cover-image",class:"h-full w-full object-contain"},null,8,ee)])])]),_:2},1032,["to"]))),128))])]),V(M)],64)}}};export{ne as default};
